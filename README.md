# NoSQL

### Лабораторная работа №1

#### Предметная область

**Система управления аэропортом** - комплексное решение для автоматизации ключевых процессов:

- Управление рейсами в реальном времени
- Обработка пассажиропотока
- Контроль багажа
- Анализ маршрутов и транзитных соединений
- Управление флотом воздушных судов

#### Архитектура системы

Система использует хранение данных с распределением на 3 модуля:

##### 1. MongoDB (Документо-ориентированная БД)

**Назначение:** Хранение основных сущностей системы со сложной структурой

**Типы данных:**

- **Flights** – рейсы с вложенными документами (расписание, статусы)
- **Passengers** – пассажиры с историей перелетов
- **Aircrafts:** – самолеты с техническими характеристиками
- **Airports**: Аэропорты с геоданными

##### 2. Cassandra (Колоночная БД)

**Назначение:** Обработка высоконагруженных оперативных данных

**Типы данных:**

- **Tickets** – билеты пассажиров
- **Baggage** – данные о багаже
- **Flight_status** – статусы рейсов в реальном времени

##### 3. Neo4j (Графовая БД)

**Назначение:** Анализ связей и построение маршрутов

**Типы данных:**

- Связи между аэропортами, рейсами и пассажирами
- Маршруты с пересадками
- Транзитные потоки

#### Связи между модулями

![Связи между модулями](./img/lab1.jpg)

### Лабораторная работа №2

Устройство системы наглядно продемонстрировано на ER-модели:

![ER модель](./img/lab2.jpg)

### Лабораторная работа №3

#### Генерация данных MongoDB

```bash
python3 gen_mongodb.py
```

**Особенности:**

- Реалистичные имена пассажиров (Faker)
- Валидные коды аэропортов
- Согласованные связи между коллекциями

|Коллекция|Количество|Описание|
|-|--------|---|
|airports|20|Аэропорты|
|aircrafts|50|Модели самолетов|
|passengers|2,000,000|Пассажиры с контактными данными|
|flights|100|Рейсы|

#### Генерация данных Cassandra

```bash
python3 gen_cassandra.py
```

**Особенности:**

- Пакетная вставка для оптимизации
- Синхронизация с MongoDB по ключевым ID
- Генерация временных рядов для статусов рейсов

|Коллекция|Количество|Описание|
|-|--------|---|
|tickets|9,413|Билеты пассажиров|
|baggage|14,065|Единицы багажа|
|flight_status|100|Статусы рейсов|

#### Синхронизация Neo4j

```bash
python3 gen_neo4j.py
```

**Особенности:**

- Автоматическое создание индексов
- Трансформация документов в графовые связи